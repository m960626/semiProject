<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.mini.mapper.MatchingMapper">
	<insert id="insertField" parameterType="hashmap">
		INSERT INTO T2_FIELD
			(fName, fLoc, fPrice, parking, showerYn, ballYn, vestYn, marketYn, smokeYn)
		VALUES
			(#{groundName}, #{groundLoc}, #{fee}, #{parking}, #{shower}, #{ball}, #{vest}, #{market}, #{smoking})
	</insert>
	
	<insert id="insertMatch" parameterType="hashmap">
		INSERT INTO T2_MATCH
			(cNo_h, mTimeS, mTimeE, mDate, mStat, mGender, mGrade, mCont, mAge, mColor)
		VALUES
			(#{clubName}, #{matchTime1}, #{matchTime2}, #{matchDate}, 1, #{gender}, #{grade}, #{intro}, #{avgAge}, #{color})
	</insert>
	
	<select id="selectMatchList" parameterType="hashmap" resultType="com.example.mini.model.Matching">
		<![CDATA[	
			SELECT *
			FROM T2_MATCH M
			INNER JOIN T2_FIELD F ON F.fNo = M.mNo
			ORDER BY mDATE ASC
			LIMIT ${startNum}, 10 ]]>
	</select>
	
	<select id="selectMatchCnt" parameterType="hashmap" resultType="int">
		SELECT COUNT(*) AS CNT
		FROM T2_MATCH M
		INNER JOIN T2_FIELD F ON F.fNo = M.mNo
	</select>
</mapper>